language: node_js
node_js:
 - "node"
 - "9.0"
 - "8.0"
before_install:
  - '[[ $(node -v) =~ ^v9.*$ ]] || npm install -g npm@latest' # skipped when using node 9
  - npm install -g greenkeeper-lockfile@1
before_script:
  - greenkeeper-lockfile-update
  - npm install -g xo ava nyc npx yarn && yarn
after_script:
  - greenkeeper-lockfile-upload
cache:
  directories:
     - "node_modules"
script: 
  - npm run travis
  - npm run build

after_success: npm run coverage